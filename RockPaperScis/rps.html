<!DOCTYPE html>
<html>
<head>
	<title>Rock Paper Scissors 1.0</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>

	<h1>R, P, or S?</h1>


	<div class='buttons'>
		<button class='but' id="rock">ROCK</button>
		<button class='but' id="paper">PAPER</button>
		<button class='but' id="scissors">SCISSORS</button>
	</div>

	<br><br><br>
	<h2>YOUR GAMES...</h2>
	<ol id='history'>

	</ol>



	<script>
		
		//GENERATE CPU MOVE
		function generateCpuMove() {

			let dice = Math.floor(Math.random()*3);
			let move = 'ROCK';

			if(dice==0){ move = 'PAPER'; }
			if(dice==1){ move = 'SCISSORS';}

			return move;
		}

		//PROCESS MATCH OUTCOME 
		function fight(CPU, user) {

			let out = "";

			//OUTCOME > CPU PLAYS SCISSORS
			if(CPU == 'SCISSORS'){
				switch(user){
					case 'SCISSORS': return 'draw'; break;
					case 'ROCK': return 'user';	break;
					default: return 'CPU'; break;
				}
			}

			//OUTOME > CPU PLAYS ROCK
			if(CPU == 'ROCK'){
				switch(user){
					case 'SCISSORS': return 'CPU'; break;
					case 'ROCK': return 'draw'; break;
					default: return 'user'; break;
				}
			}

			//OUTCOME > CPU PLAYS PAPER
			if(CPU == 'PAPER') {
				switch(user){
					case 'SCISSORS': return 'user'; break;
					case 'ROCK': return 'CPU';	break;
					default: return 'draw'; break;
		}}}

		//RUN GAME
		function playGame(user) {

			let userWinCount = 0;
			let cpuWinCount =0;

				//GET CPU AND USER'S MOVE
				let CPU = generateCpuMove();
				//let user = prompt('Rock (R) || Paper (P) || Scissors (S)').toUpperCase();
				
				//PROCESS RESULT
				let matchResult = fight(CPU, user);
				let matchMsg="";

				//PRINT MATCH RESULT
				switch(matchResult) {
					case 'draw':matchMsg= "Draw! CPU ALSO used "+CPU; break;
					case 'user':matchMsg='Victory! '+user+" beats "+CPU;break;
					case 'CPU':matchMsg= "LOSS! "+CPU+" beats "+user;break;
				}
				alert(matchMsg);

				//add game to history
				var history = document.getElementById('history');
				const game = document.createElement('li');
				game.textContent = matchMsg;
				history.appendChild(game);

		}

		//INSTANTIATE GAME on BUTTON PRESS
		document.getElementById('rock').onclick =()=> playGame('ROCK');
		document.getElementById('paper').onclick =()=> playGame('PAPER');
		document.getElementById('scissors').onclick =()=> playGame('SCISSORS');
		alert(gameResult);
		
	</script>
</body>
</html>